"use strict";(self.webpackChunkchargepi=self.webpackChunkchargepi||[]).push([[866],{155:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/WiringSketch_eng-738c838e5a308d666d3262a74c543f07.png"},5337:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>d});var r=n(758);const s={},l=r.createContext(s);function i(e){const t=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(l.Provider,{value:t},e.children)}},9614:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"hardware/hardware","title":"Supported hardware and schematics","description":"The hardware, such as Reader, Indicator and a Display must be configured in [_settings","source":"@site/chargepi/hardware/hardware.md","sourceDirName":"hardware","slug":"/hardware/","permalink":"/docs/chargepi/hardware/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Bill of materials","permalink":"/docs/chargepi/hardware/bill-of-materials"}}');var s=n(6070),l=n(5337);const i={sidebar_position:1},d="Supported hardware and schematics",c={},h=[{value:"RFID/NFC readers",id:"rfidnfc-readers",level:2},{value:"Supported or tested readers",id:"supported-or-tested-readers",level:3},{value:"PN532",id:"pn532",level:4},{value:"Displays",id:"displays",level:2},{value:"Supported displays",id:"supported-displays",level:3},{value:"HD44780",id:"hd44780",level:4},{value:"EVCC",id:"evcc",level:2},{value:"Relay (or relay module)",id:"relay-or-relay-module",level:3},{value:"Power meter",id:"power-meter",level:2},{value:"Supported power meters",id:"supported-power-meters",level:3},{value:"CS5460A",id:"cs5460a",level:4},{value:"Indicators",id:"indicators",level:2},{value:"Supported LED indicators",id:"supported-led-indicators",level:3},{value:"WS2811 and WS2812b",id:"ws2811-and-ws2812b",level:4},{value:"Wiring diagram",id:"wiring-diagram",level:2}];function a(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"supported-hardware-and-schematics",children:"Supported hardware and schematics"})}),"\n",(0,s.jsxs)(t.p,{children:["The hardware, such as Reader, Indicator and a Display must be configured in ",(0,s.jsx)(t.a,{href:"../../configs/settings.json",children:(0,s.jsx)(t.em,{children:"settings\nfile"})}),", and EVSEs should be configured in the ",(0,s.jsx)(t.a,{href:"../../configs/evses",children:(0,s.jsx)(t.em,{children:"evses folder"})}),", each\nin a separate file."]}),"\n",(0,s.jsxs)(t.p,{children:["If you want to add support for any type of hardware, read\nthe ",(0,s.jsx)(t.a,{href:"../contribution/adding-support-for-hardware.md",children:"contribution guide"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"rfidnfc-readers",children:"RFID/NFC readers"}),"\n",(0,s.jsx)(t.h3,{id:"supported-or-tested-readers",children:"Supported or tested readers"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Reader"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Is supported"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"PN532"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"pn532",children:"PN532"}),"\n",(0,s.jsx)(t.p,{children:"The PN532 reader can communicate through UART/I2C/SPI. The client uses the NFC go library, which is a wrapper for libnfc\n1.8.0 (and above). You could use any other libnfc compatible NFC/RFID reader, but the configuration steps as well as\nwiring could vary."}),"\n",(0,s.jsx)(t.p,{children:"The pinout will also vary depending on your preferred communication protocol. This pinout is used for UART."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"RPI PIN"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"PN532 PIN"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"5V"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"VCC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GPIO 14"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"TX"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GPIO 15"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"RX"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"displays",children:"Displays"}),"\n",(0,s.jsx)(t.h3,{id:"supported-displays",children:"Supported displays"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Display"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Is supported"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"HD44780"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"hd44780",children:"HD44780"}),"\n",(0,s.jsx)(t.p,{children:"The HD44780 LCD should be on I2C bus 1 with an address equal to 0x27. To find the I2C address, follow these steps:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Download i2c tools:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt-get install -y i2c-tools\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Enable I2C interface and if needed, reboot."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Run the following command to get the I2C address:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo i2cdetect -y 1 \n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"RPI PIN"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"PCF8574 PIN"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"2 or any 5V pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"VCC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"14 or any ground pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"3 (GPIO 2)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"SDA"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"5 (GPIO 3)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"SCL"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"evcc",children:"EVCC"}),"\n",(0,s.jsx)(t.p,{children:"EV charging controller (EVCC) controls the communication with the EV and allows or denies the charging. It can also set\nthe charging current limit."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"EVCC"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Is supported"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Relay"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Phoenix Contact EVSEs"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Planned"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"relay-or-relay-module",children:"Relay (or relay module)"}),"\n",(0,s.jsx)(t.p,{children:"There are multiple relay options that could be used for the charging station, such as Solid state relays, contactors,\netc. Choose your option according to your needs. Be very careful with the options and consult a professional, as it may\nbecome electrical and fire hazard."}),"\n",(0,s.jsx)(t.p,{children:"It is highly recommended splitting both GND and VCC between relays or using a relay module."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"RPI PIN"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"RELAY PIN"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"4 or any 5V pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"VCC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"20 or any ground pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"37 (GPIO 26) or any free GPIO pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"S/Enable"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"power-meter",children:"Power meter"}),"\n",(0,s.jsx)(t.h3,{id:"supported-power-meters",children:"Supported power meters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Power meter"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Is supported"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"CS5460A"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"ETI"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Planned"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"cs5460a",children:"CS5460A"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"RPI PIN"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"CS5460A PIN"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"4 or 2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"VCC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"25 or any ground pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Any free pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"CE/CS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"40 (GPIO 21)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"SCK"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"38 (GPIO 20)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"MOSI"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"35 (GPIO 19)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"MISO"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"indicators",children:"Indicators"}),"\n",(0,s.jsx)(t.h3,{id:"supported-led-indicators",children:"Supported LED indicators"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Indicator"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Is supported"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"WS2812b"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"WS2811"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"ws2811-and-ws2812b",children:"WS2811 and WS2812b"}),"\n",(0,s.jsx)(t.p,{children:"The WS281x LED strip comes in multiple voltage variants. It is recommended to use the 5V variant, since the Raspberry Pi\nprovides the 5V for power instead of using an external power supply."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"RPI PIN"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"WS281x PIN"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Any 5V pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"VCC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Any GND pin"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"GND"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"32 (GPIO 12)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Data"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"wiring-diagram",children:"Wiring diagram"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(155).A+"",width:"3039",height:"1758"})})]})}function x(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);